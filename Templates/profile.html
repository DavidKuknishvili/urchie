{% extends 'base.html' %}
{% block title%} პროფილის გვერდი {% endblock %}
{% block style %}
<link rel="stylesheet" href="{{url_for('static', filename='css/style.css')}}">
<link rel="stylesheet" href="{{url_for('static', filename='css/reset.css')}}">
{% endblock%}

{% block profielcolor %} #0094FF {% endblock %}
{% block homeprofile %}
<div class="dot"></div>{% endblock %}
{% block content %}

<section class="main_content">
    <div class="profile_background">


        <img src="/profile/image/{{user_id}}" alt="" class="profile_photo">

        <div class="settings_div">
            <a href="/settings/{{user_id}}?menu=appearance">

                <button class="settings_bn">
                    <svg width="30" height="30" viewBox="0 0 49 49" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path class="settings_path" d="M26.0426 4.35046C27.5551 4.35046 28.9245 5.19046 29.6807 6.43046C30.0486 7.03046 30.2939 7.77046 30.2326 8.55046C30.1917 9.15046 30.3757 9.75046 30.7027 10.3105C31.7451 12.0105 34.0547 12.6505 35.8534 11.6905C37.8768 10.5305 40.4317 11.2305 41.5968 13.2105L42.9662 15.5705C44.1517 17.5505 43.4976 20.0905 41.4537 21.2305C39.7164 22.2505 39.1032 24.5105 40.1456 26.2305C40.4726 26.7705 40.8405 27.2305 41.4128 27.5105C42.1282 27.8905 42.68 28.4905 43.0684 29.0905C43.8246 30.3305 43.7633 31.8505 43.0275 33.1905L41.5968 35.5905C40.8405 36.8705 39.4302 37.6705 37.979 37.6705C37.2637 37.6705 36.4665 37.4705 35.8125 37.0705C35.2811 36.7305 34.6679 36.6105 34.0138 36.6105C31.9904 36.6105 30.2939 38.2705 30.2326 40.2505C30.2326 42.5505 28.3522 44.3505 26.0017 44.3505H23.222C20.851 44.3505 18.9706 42.5505 18.9706 40.2505C18.9298 38.2705 17.2333 36.6105 15.2098 36.6105C14.5353 36.6105 13.9222 36.7305 13.4112 37.0705C12.7571 37.4705 11.9396 37.6705 11.2446 37.6705C9.77301 37.6705 8.36271 36.8705 7.60646 35.5905L6.19616 33.1905C5.43991 31.8905 5.39904 30.3305 6.15529 29.0905C6.48231 28.4905 7.09549 27.8905 7.79042 27.5105C8.36271 27.2305 8.73062 26.7705 9.07808 26.2305C10.1 24.5105 9.48687 22.2505 7.74954 21.2305C5.72606 20.0905 5.07201 17.5505 6.23704 15.5705L7.60646 13.2105C8.79194 11.2305 11.3264 10.5305 13.3703 11.6905C15.1485 12.6505 17.4581 12.0105 18.5005 10.3105C18.8276 9.75046 19.0115 9.15046 18.9706 8.55046C18.9298 7.77046 19.1546 7.03046 19.5429 6.43046C20.2992 5.19046 21.6686 4.39046 23.1607 4.35046H26.0426ZM24.6323 18.7105C21.4233 18.7105 18.8276 21.2305 18.8276 24.3705C18.8276 27.5105 21.4233 30.0105 24.6323 30.0105C27.8412 30.0105 30.3757 27.5105 30.3757 24.3705C30.3757 21.2305 27.8412 18.7105 24.6323 18.7105Z" fill="#ababab"/>
                    </svg>
                </button>

            </a>

        </div>

    </div>
    <h1 class="profile_nam_surname">{{user_name}}</h1>
    <h1 class="profile_title_of_post general_title">შენახული პოსტები</h1>
    <div class="scroller">



             {% for each in favorite %}
        <div class="scroller-item">
            <a href="/open/{{each[2]}}" class="card_a">
                <div class="card_body_div">
                    <div class="card_body">
                        <div class=card_imgs_div">
                            <div class="card_img_div">
                                <img class="card_img" src="/category/image/{{each[2]}}" alt="">

                            </div>
                            <div class="card_author_img_div">
                                <img class='card_author_img'src="/profile/image/{{each[1]}}" alt="">

                            </div>
                        </div>
                        <div class="card_text">
                            <p class="card-title">{{each[0]}}</p>
                        </div>
                        <div class="comment_count_div">
                            <p class="comment_count">
                                 {{each[3]}} კომენტარი
                            </p>

                        </div>

                    </div>
                </div>
            </a>
                    </div>
        {%endfor%}




    </div>

    <h1 class="profile_title_of_post general_title">ჩემი პოსტები</h1>
    {% for each in profile_post %}
    <a class="topic_a" href="/open/{{each[0]}}">
        <div class="profile_topic">

            <img class="topic_image" src="/category/image/{{each[0]}}" alt="">
            <div>
                <h1 class="topic_title">{{each[2]}}</h1>
            </div>
            <div class="profile_category_and_time">
                <h1 class="profile-topic_category">
                    {{each[3]}}
                </h1>
                <br>
                <h1 class="profile-topic_time">
                    {{each[4]}}
                </h1>


            </div>


        </div>

    </a>
    {% endfor %}

    <form method="get" class="more_div">
        <button class="more add_topic_button" type="submit" name="post_sort" value="{{post_count}}">{{profile_posts}}</button>
    </form>

</section>


{% endblock%}
{% block script %}
    <script>
        const slider = document.querySelector('.scroller');
        let mouseDown = false;
        let startX, scrollLeft;

        let startDragging = function (e) {
          mouseDown = true;
          startX = e.pageX - slider.offsetLeft;
          scrollLeft = slider.scrollLeft;
        };
        let stopDragging = function (event) {
          mouseDown = false;
        };

        slider.addEventListener('mousemove', (e) => {
          e.preventDefault();
          if(!mouseDown) { return; }
          const x = e.pageX - slider.offsetLeft;
          const scroll = x - startX;
          slider.scrollLeft = scrollLeft - scroll;
        });

        // Add the event listeners
        slider.addEventListener('mousedown', startDragging, false);
        slider.addEventListener('mouseup', stopDragging, false);
        slider.addEventListener('mouseleave', stopDragging, false);
        </script>
{% endblock %}